<!doctype html><html lang="fr"><head><meta charset="utf-8"/><link rel="icon" href="/icon-web-01.png"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="theme-color" content="#2c5aa0"/><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="apple-mobile-web-app-title" content="Agence Voyage"><meta name="description" content="Agence Voyage - Votre partenaire de confiance pour les voyages organisÃ©s, locations de vacances et pÃ¨lerinages"/><link rel="apple-touch-icon" href="/icon-web-01.png"/><link rel="manifest" href="/manifest.json" crossorigin="use-credentials"><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"/><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/><link rel="preload" href="/static/js/bundle.js" as="script"><title>Agence Voyage - Voyages OrganisÃ©s, Locations, Hadj & Omra</title><style>#pwa-loading{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#2c5aa0 0,#1e3a8a 100%);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:9999;color:#fff}.loading-spinner{width:50px;height:50px;border:4px solid rgba(255,255,255,.3);border-top:4px solid #fff;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:20px}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}</style><script defer="defer" src="/static/js/main.bfd38362.js"></script><link href="/static/css/main.fe1ab4cb.css" rel="stylesheet"></head><body><div id="pwa-loading"><div class="loading-spinner"></div><h4>Agence Voyage Demo</h4><p>Chargement de l'application...</p></div><noscript><div class="alert alert-danger m-3"><h4>JavaScript Requis</h4><p>Vous devez activer JavaScript pour utiliser Agence Voyage.</p></div></noscript><div id="root"></div><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script><script>console.log("ğŸš€ Inicializando PWA..."),window.deferredPrompt=null,window.isPWAInstalled=!1,window.addEventListener("load",(function(){console.log("ğŸ“± PÃ¡gina cargada completamente"),setTimeout((function(){const e=document.getElementById("pwa-loading");e&&(e.style.opacity="0",e.style.transition="opacity 0.5s ease",setTimeout((()=>{e.parentNode&&e.remove()}),500))}),1e3),window.matchMedia("(display-mode: standalone)").matches&&(console.log("ğŸ“± Modo PWA detectado"),document.body.classList.add("pwa-standalone"),window.isPWAInstalled=!0,localStorage.setItem("pwaInstalled","true"))})),window.installPWA=function(){return console.log("ğŸ”§ Ejecutando installPWA..."),window.deferredPrompt?(console.log("ğŸ“² Mostrando prompt de instalaciÃ³n..."),window.deferredPrompt.prompt().then((()=>window.deferredPrompt.userChoice)).then((e=>(console.log("âœ… Resultado:",e.outcome),"accepted"===e.outcome?(console.log("ğŸ‰ Usuario aceptÃ³ la instalaciÃ³n"),window.isPWAInstalled=!0,localStorage.setItem("pwaInstalled","true"),window.dispatchEvent(new Event("pwaInstalled"))):console.log("âŒ Usuario rechazÃ³ la instalaciÃ³n"),window.deferredPrompt=null,"accepted"===e.outcome))).catch((e=>(console.error("âŒ Error en installPWA:",e),window.deferredPrompt=null,!1)))):(console.log("âš ï¸ No hay deferredPrompt disponible"),Promise.resolve(!1))},window.addEventListener("beforeinstallprompt",(e=>{console.log("ğŸ¯ Evento beforeinstallprompt capturado!"),e.preventDefault(),window.deferredPrompt=e,localStorage.setItem("pwaInstallAvailable","true"),window.dispatchEvent(new CustomEvent("pwaInstallAvailable"))})),window.addEventListener("appinstalled",(e=>{console.log("ğŸ‰ PWA instalada exitosamente!"),window.isPWAInstalled=!0,window.deferredPrompt=null,localStorage.setItem("pwaInstalled","true"),localStorage.removeItem("pwaInstallAvailable"),window.dispatchEvent(new Event("pwaInstalled"))})),"serviceWorker"in navigator?(window.addEventListener("load",(function(){console.log("ğŸ”§ Registrando Service Worker...");const e=["/sw.js","./sw.js",`${window.location.origin}/sw.js`];let o=0;const n=()=>{if(o>=e.length)return void console.error("âŒ No se pudo registrar el SW en ninguna ruta");const t=e[o];console.log(`ğŸ”„ Intentando registrar SW en: ${t}`),navigator.serviceWorker.register(t).then((function(e){console.log("âœ… SW registrado correctamente:",e.scope),e.installing&&(console.log("ğŸ”„ SW instalÃ¡ndose..."),e.installing.addEventListener("statechange",(function(e){console.log("ğŸ“Š Estado SW:",e.target.state)}))),e.waiting&&console.log("â³ SW esperando..."),e.active&&console.log("ğŸ¯ SW activo y listo"),e.addEventListener("updatefound",(()=>{console.log("ğŸ”„ Nueva versiÃ³n de SW encontrada");const o=e.installing;o.addEventListener("statechange",(()=>{console.log("ğŸ“Š Nuevo SW estado:",o.state)}))}))})).catch((function(e){console.error(`âŒ Error registrando SW en ${t}:`,e),o++,setTimeout(n,1e3)}))};n()})),navigator.serviceWorker.addEventListener("controllerchange",(()=>{console.log("ğŸ”„ Controller changed - SW actualizado")}))):console.log("âŒ Service Worker no soportado en este navegador"),window.addEventListener("DOMContentLoaded",(function(){console.log("ğŸ” Verificando estado PWA..."),"true"===localStorage.getItem("pwaInstalled")&&(window.isPWAInstalled=!0,console.log("ğŸ“± PWA marcada como instalada en localStorage")),"true"!==localStorage.getItem("pwaInstallAvailable")||window.deferredPrompt||(console.log("ğŸ”„ Recuperando estado de instalaciÃ³n disponible"),window.dispatchEvent(new CustomEvent("pwaInstallAvailable"))),window.matchMedia("(display-mode: standalone)").matches&&(window.isPWAInstalled=!0,localStorage.setItem("pwaInstalled","true"),console.log("ğŸ“± PWA detectada por display mode"))})),console.log("âœ… ConfiguraciÃ³n PWA completada")</script></body></html>